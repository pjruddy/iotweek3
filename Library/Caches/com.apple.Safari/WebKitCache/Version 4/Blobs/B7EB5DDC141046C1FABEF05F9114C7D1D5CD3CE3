var mod_pagespeed_BQAvryKUr8 = "!function(){\"use strict\";var a,b=function(){var a=/\\-([a-z])/g,b=function(a,b){return b.toUpperCase()};return function(c){return c.replace(a,b)}}(),c=function(a,c){var d,e,f,g,h,i;if(window.getComputedStyle?d=window.getComputedStyle(a,null).getPropertyValue(c):(e=b(c),d=a.currentStyle?a.currentStyle[e]:a.style[e]),\"cursor\"===c&&(!d||\"auto\"===d))for(f=a.tagName.toLowerCase(),g=[\"a\"],h=0,i=g.length;i>h;h++)if(f===g[h])return\"pointer\";return d},d=function(a){if(p.prototype._singleton){a||(a=window.event);var b;this!==window?b=this:a.target?b=a.target:a.srcElement&&(b=a.srcElement),p.prototype._singleton.setCurrent(b)}},e=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent(\"on\"+b,c)},f=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent(\"on\"+b,c)},g=function(a,b){if(a.addClass)return a.addClass(b),a;if(b&&\"string\"==typeof b){var c=(b||\"\").split(/\\s+/);if(1===a.nodeType)if(a.className){for(var d=\" \"+a.className+\" \",e=a.className,f=0,g=c.length;g>f;f++)d.indexOf(\" \"+c[f]+\" \")<0&&(e+=\" \"+c[f]);a.className=e.replace(/^\\s+|\\s+$/g,\"\")}else a.className=b}return a},h=function(a,b){if(a.removeClass)return a.removeClass(b),a;if(b&&\"string\"==typeof b||void 0===b){var c=(b||\"\").split(/\\s+/);if(1===a.nodeType&&a.className)if(b){for(var d=(\" \"+a.className+\" \").replace(/[\\n\\t]/g,\" \"),e=0,f=c.length;f>e;e++)d=d.replace(\" \"+c[e]+\" \",\" \");a.className=d.replace(/^\\s+|\\s+$/g,\"\")}else a.className=\"\"}return a},i=function(){var a,b,c,d=1;return\"function\"==typeof document.body.getBoundingClientRect&&(a=document.body.getBoundingClientRect(),b=a.right-a.left,c=document.body.offsetWidth,d=Math.round(100*(b/c))/100),d},j=function(a){var b={left:0,top:0,width:0,height:0,zIndex:999999999},d=c(a,\"z-index\");if(d&&\"auto\"!==d&&(b.zIndex=parseInt(d,10)),a.getBoundingClientRect){var e,f,g,h=a.getBoundingClientRect();\"pageXOffset\"in window&&\"pageYOffset\"in window?(e=window.pageXOffset,f=window.pageYOffset):(g=i(),e=Math.round(document.documentElement.scrollLeft/g),f=Math.round(document.documentElement.scrollTop/g));var j=document.documentElement.clientLeft||0,k=document.documentElement.clientTop||0;b.left=h.left+e-j,b.top=h.top+f-k,b.width=\"width\"in h?h.width:h.right-h.left,b.height=\"height\"in h?h.height:h.bottom-h.top}return b},k=function(a,b){var c=!(b&&b.useNoCache===!1);return c?(-1===a.indexOf(\"?\")?\"?\":\"&\")+\"nocache=\"+(new Date).getTime():\"\"},l=function(a){var b=[],c=[];return a.trustedOrigins&&(\"string\"==typeof a.trustedOrigins?c.push(a.trustedOrigins):\"object\"==typeof a.trustedOrigins&&\"length\"in a.trustedOrigins&&(c=c.concat(a.trustedOrigins))),a.trustedDomains&&(\"string\"==typeof a.trustedDomains?c.push(a.trustedDomains):\"object\"==typeof a.trustedDomains&&\"length\"in a.trustedDomains&&(c=c.concat(a.trustedDomains))),c.length&&b.push(\"trustedOrigins=\"+encodeURIComponent(c.join(\",\"))),\"string\"==typeof a.amdModuleId&&a.amdModuleId&&b.push(\"amdModuleId=\"+encodeURIComponent(a.amdModuleId)),\"string\"==typeof a.cjsModuleId&&a.cjsModuleId&&b.push(\"cjsModuleId=\"+encodeURIComponent(a.cjsModuleId)),b.join(\"&\")},m=function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},n=function(a){if(\"string\"==typeof a)throw new TypeError(\"ZeroClipboard doesn't accept query strings.\");return a.length?a:[a]},o=function(a,b,c,d,e){e?window.setTimeout(function(){a.call(b,c,d)},0):a.call(b,c,d)},p=function(a,b){if(a&&(p.prototype._singleton||this).glue(a),p.prototype._singleton)return p.prototype._singleton;p.prototype._singleton=this,this.options={};for(var c in s)this.options[c]=s[c];for(var d in b)this.options[d]=b[d];this.handlers={},p.detectFlashSupport()&&v()},q=[];p.prototype.setCurrent=function(b){a=b,this.reposition();var d=b.getAttribute(\"title\");d&&this.setTitle(d);var e=this.options.forceHandCursor===!0||\"pointer\"===c(b,\"cursor\");return r.call(this,e),this},p.prototype.setText=function(a){return a&&\"\"!==a&&(this.options.text=a,this.ready()&&this.flashBridge.setText(a)),this},p.prototype.setTitle=function(a){return a&&\"\"!==a&&this.htmlBridge.setAttribute(\"title\",a),this},p.prototype.setSize=function(a,b){return this.ready()&&this.flashBridge.setSize(a,b),this},p.prototype.setHandCursor=function(a){return a=\"boolean\"==typeof a?a:!!a,r.call(this,a),this.options.forceHandCursor=a,this};var r=function(a){this.ready()&&this.flashBridge.setHandCursor(a)};p.version=\"1.2.3\";var s={moviePath:\"ZeroClipboard.swf\",trustedOrigins:null,text:null,hoverClass:\"zeroclipboard-is-hover\",activeClass:\"zeroclipboard-is-active\",allowScriptAccess:\"sameDomain\",useNoCache:!0,forceHandCursor:!1};p.setDefaults=function(a){for(var b in a)s[b]=a[b]},p.destroy=function(){p.prototype._singleton.unglue(q);var a=p.prototype._singleton.htmlBridge;a.parentNode.removeChild(a),delete p.prototype._singleton},p.detectFlashSupport=function(){var a=!1;if(\"function\"==typeof ActiveXObject)try{new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\")&&(a=!0)}catch(b){}return!a&&navigator.mimeTypes[\"application/x-shockwave-flash\"]&&(a=!0),a};var t=null,u=null,v=function(){var a,b,c=p.prototype._singleton,d=document.getElementById(\"global-zeroclipboard-html-bridge\");if(!d){var e={};for(var f in c.options)e[f]=c.options[f];e.amdModuleId=t,e.cjsModuleId=u;var g=l(e),h='      <object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" id=\"global-zeroclipboard-flash-bridge\" width=\"100%\" height=\"100%\">         <param name=\"movie\" value=\"'+c.options.moviePath+k(c.options.moviePath,c.options)+'\"/>         <param name=\"allowScriptAccess\" value=\"'+c.options.allowScriptAccess+'\"/>         <param name=\"scale\" value=\"exactfit\"/>         <param name=\"loop\" value=\"false\"/>         <param name=\"menu\" value=\"false\"/>         <param name=\"quality\" value=\"best\" />         <param name=\"bgcolor\" value=\"#ffffff\"/>         <param name=\"wmode\" value=\"transparent\"/>         <param name=\"flashvars\" value=\"'+g+'\"/>         <embed src=\"'+c.options.moviePath+k(c.options.moviePath,c.options)+'\"           loop=\"false\" menu=\"false\"           quality=\"best\" bgcolor=\"#ffffff\"           width=\"100%\" height=\"100%\"           name=\"global-zeroclipboard-flash-bridge\"           allowScriptAccess=\"always\"           allowFullScreen=\"false\"           type=\"application/x-shockwave-flash\"           wmode=\"transparent\"           pluginspage=\"http://www.macromedia.com/go/getflashplayer\"           flashvars=\"'+g+'\"           scale=\"exactfit\">         </embed>       </object>';d=document.createElement(\"div\"),d.id=\"global-zeroclipboard-html-bridge\",d.setAttribute(\"class\",\"global-zeroclipboard-container\"),d.setAttribute(\"data-clipboard-ready\",!1),d.style.position=\"absolute\",d.style.left=\"-9999px\",d.style.top=\"-9999px\",d.style.width=\"15px\",d.style.height=\"15px\",d.style.zIndex=\"9999\",d.innerHTML=h,document.body.appendChild(d)}c.htmlBridge=d,a=document[\"global-zeroclipboard-flash-bridge\"],a&&(b=a.length)&&(a=a[b-1]),c.flashBridge=a||d.children[0].lastElementChild};p.prototype.resetBridge=function(){return this.htmlBridge.style.left=\"-9999px\",this.htmlBridge.style.top=\"-9999px\",this.htmlBridge.removeAttribute(\"title\"),this.htmlBridge.removeAttribute(\"data-clipboard-text\"),h(a,this.options.activeClass),a=null,this.options.text=null,this},p.prototype.ready=function(){var a=this.htmlBridge.getAttribute(\"data-clipboard-ready\");return\"true\"===a||a===!0},p.prototype.reposition=function(){if(!a)return!1;var b=j(a);return this.htmlBridge.style.top=b.top+\"px\",this.htmlBridge.style.left=b.left+\"px\",this.htmlBridge.style.width=b.width+\"px\",this.htmlBridge.style.height=b.height+\"px\",this.htmlBridge.style.zIndex=b.zIndex+1,this.setSize(b.width,b.height),this},p.dispatch=function(a,b){p.prototype._singleton.receiveEvent(a,b)},p.prototype.on=function(a,b){for(var c=a.toString().split(/\\s/g),d=0;d<c.length;d++)a=c[d].toLowerCase().replace(/^on/,\"\"),this.handlers[a]||(this.handlers[a]=b);return this.handlers.noflash&&!p.detectFlashSupport()&&this.receiveEvent(\"onNoFlash\",null),this},p.prototype.addEventListener=p.prototype.on,p.prototype.off=function(a,b){for(var c=a.toString().split(/\\s/g),d=0;d<c.length;d++){a=c[d].toLowerCase().replace(/^on/,\"\");for(var e in this.handlers)e===a&&this.handlers[e]===b&&delete this.handlers[e]}return this},p.prototype.removeEventListener=p.prototype.off,p.prototype.receiveEvent=function(b,c){b=b.toString().toLowerCase().replace(/^on/,\"\");var d=a,e=!0;switch(b){case\"load\":if(c&&parseFloat(c.flashVersion.replace(\",\",\".\").replace(/[^0-9\\.]/gi,\"\"))<10)return this.receiveEvent(\"onWrongFlash\",{flashVersion:c.flashVersion}),void 0;this.htmlBridge.setAttribute(\"data-clipboard-ready\",!0);break;case\"mouseover\":g(d,this.options.hoverClass);break;case\"mouseout\":h(d,this.options.hoverClass),this.resetBridge();break;case\"mousedown\":g(d,this.options.activeClass);break;case\"mouseup\":h(d,this.options.activeClass);break;case\"datarequested\":var f=d.getAttribute(\"data-clipboard-target\"),i=f?document.getElementById(f):null;if(i){var j=i.value||i.textContent||i.innerText;j&&this.setText(j)}else{var k=d.getAttribute(\"data-clipboard-text\");k&&this.setText(k)}e=!1;break;case\"complete\":this.options.text=null}if(this.handlers[b]){var l=this.handlers[b];\"string\"==typeof l&&\"function\"==typeof window[l]&&(l=window[l]),\"function\"==typeof l&&o(l,d,this,c,e)}},p.prototype.glue=function(a){a=n(a);for(var b=0;b<a.length;b++)-1==m(a[b],q)&&(q.push(a[b]),e(a[b],\"mouseover\",d));return this},p.prototype.unglue=function(a){a=n(a);for(var b=0;b<a.length;b++){f(a[b],\"mouseover\",d);var c=m(a[b],q);-1!=c&&q.splice(c,1)}return this},\"function\"==typeof define&&define.amd?define([\"require\",\"exports\",\"module\"],function(a,b,c){return t=c&&c.id||null,p}):\"object\"==typeof module&&module&&\"object\"==typeof module.exports&&module.exports?(u=module.id||null,module.exports=p):window.ZeroClipboard=p}();";
var mod_pagespeed_iaR3lzeoYT = "$(function(){window.Temboo||(window.Temboo=function(){var DEBUG=false;var init=function(){$(window).trigger('Temboo.initialized');}\nvar publicFacing={setEnv:function(env){DEBUG=env=='DEVELOPMENT';},error:function(){if(DEBUG&&typeof console!=='undefined'){var msg=arguments.length>1?arguments[0]+': '+arguments[1]:arguments[0];console.error(msg);}},log:function(){if(DEBUG&&typeof console!=='undefined'){var msg=arguments.length>1?arguments[0]+': '+arguments[1]:arguments[0];}},warn:function(){if(DEBUG&&typeof console!=='undefined'){var msg=arguments.length>1?arguments[0]+': '+arguments[1]:arguments[0];console.warn(msg);}},trackEvent:function(){var evt=['_trackEvent'];for(var i in arguments)evt.push(arguments[i]);Temboo.log('Temboo.trackEvent',JSON.stringify(evt));_gaq.push(evt);},trackPageview:function(uri){var pageview=['_trackPageview'];pageview.push(uri);Temboo.log('Temboo.trackPageview',JSON.stringify(pageview));_gaq.push(pageview);},quickEmailValidator:function(allegedAddress){var emailParts=allegedAddress.split('@');if(emailParts.length!=2){return false;}\nif(emailParts[0].length==0){return false;}\nvar domainParts=emailParts[1].split('.');for(var i=0;i<domainParts.length;i++){if(domainParts[i].length==0){return false;}}\nif(i<2){return false;}\nif(allegedAddress.length<6){return false;}\nif(allegedAddress.indexOf(',')>-1){return false;}\nif(allegedAddress.indexOf(' ')>-1){return false;}\nreturn true;},hiddenFeatureCheck:function(featureName){var salientVal;$.ajax({url:'/features/check/'+featureName+'/',async:false,success:function(data){if(data=='true'){salientVal=true;}else{salientVal=false;}}});return salientVal;},register:function(name,obj,callback){if(typeof this[name]!=='undefined')\nthrow\"Object exists: window.Temboo.\"+name;this[name]=obj;if(typeof callback==='function')\ncallback.call(null);this.log('Temboo.register','Registered object: Temboo.'+name);$(window).trigger('Temboo.'+name+'.initialized');},alignCallout:function(callout){callout.css('top',(((callout.height()-callout.parent().find('.anchor').height())/2))*-1);callout.find('.head-callout').css('top',((callout.innerHeight()+callout.height())/4)-2);},showStatus:function(status,message,options){var layout,defaults={anchor:'top',container:'body > .content',displayDuration:4000,fadeDuration:200},options=$.extend({},defaults,options),$container=$(options['container']),yPos=$container.offset().top;$view=$('<div />').attr('id','widget-status').addClass('status-alert '+status).append($('<p />').html(message));$container.append($view);if(yPos<$(window).scrollTop()){layout={position:'fixed',bottom:'auto',top:0}}\nelse{layout={position:'absolute',bottom:'auto',top:yPos}}\nlayout.width=$view.outerWidth(true)+'px';$view.css(layout);$view.fadeIn(options['fadeDuration']).delay(options['displayDuration']).fadeOut(options['fadeDuration'],function(){$(this).remove();});},showLogin:function(){$navLinks=$('#nav-links');$('#nav-links').addClass('login-open');$('#old-login-lightbox').css('opacity',1);$('#old-forgot').css('opacity',0).hide();$('.callout-container.login .callout').height($('#old-login-lightbox').outerHeight());$('.callout-container.login .callout input#username').focus();$('#old-login-lightbox .password-success-message').hide();}};init();return publicFacing;}());$('select.tmb').each(function(){var sel=$(this);if(sel.attr('placeholder')){sel.prepend($('<option />').attr('class','tmb-placeholder').attr('value','').attr('disabled','disabled').attr('selected','selected').text(sel.attr('placeholder')));sel.val('');}});$('pre.prettyprint').not('.no-copy').copyable();var $iframe=$('<iframe />').attr('height',600).attr('width',960).attr('frameborder',0).attr('webkitAllowFullScreen',true).attr('mozallowfullscreen',true).attr('allowFullScreen',true);  \n  $('a.video').click(function(event){event.preventDefault();event.stopImmediatePropagation();$iframe.attr('src',$(this).attr('href')).videobox();  });$navLinks=$('#nav-links');$navLinks.off('mouseenter','.callout-container').on('mouseenter','.callout-container',function(){$('.callout-container.activity').removeClass('hover');$('.callout-container.activity .callout a[href=\"/activity/devices\"]').removeClass('hover');$('.callout-container.activity .callout a[href=\"/activity/devices\"] .arrow-green').remove();});$navLinks.off('mouseenter','a#navigation_login').on('mouseenter','a#navigation_login',function(){$('#old-login-lightbox').css('opacity',1);$('#old-forgot').css('opacity',0).hide();$('.callout-container.login .callout').height($('#old-login-lightbox').outerHeight());$('.callout-container.login .callout input#username').focus();$('#old-login-lightbox .password-success-message').hide();});$('.old-login input',$navLinks).keypress(function(){$navLinks.addClass('login-open');});$('.callout-container.documentation .subnav a',$navLinks).click(function(e){var lang=$(this).attr('href').substr(1);Temboo.trackEvent('Header','Docs',lang);});$('#navigation_iotapps, #navigation_library',$navLinks).click(function(e){Temboo.trackEvent('Header',e.target.innerHTML);});var clickOutsideCallout=function(event){if(!$navLinks.hasClass('login-open')&&($(event.target).closest('.callout-container.login').length>0||$(event.target).is('a.login-link')||$(event.target).closest('li.new-device-network-credential.logged-out').length>0||$(event.target).closest('li.new-gateway-credential.logged-out').length>0)){event.preventDefault();Temboo.showLogin();}else if($navLinks.hasClass('login-open')&&$(event.target).closest('.callout-container.login .callout').length==0){$navLinks.removeClass('login-open');}};$(document).off('click',clickOutsideCallout).on('click',clickOutsideCallout);$('.old-login').on('click','button',function(event){event.preventDefault();var form=$(this).closest('form[name=\"old-login\"]');$('#username',form).val($('#username',form).val().trim());$('button',form).fadeTo('fast',0,function(){$('.spinner',form).show();form.unbind('submit');form.submit();});});$('.old-login').on('click','a#forgot',function(event){event.preventDefault();$('.error','#old-forgot').remove();$('#forgot_username','#old-forgot').val($('#username').val());$('#old-login-lightbox').fadeTo(100,0,'linear',function(){$('.callout-container.login .callout').animate({'height':$('#old-forgot').outerHeight()},100,'linear',function(){$('#old-forgot').show().fadeTo(100,1,'linear');$('#forgot_username','#old-forgot').focus();})});});$('.callout #old-forgot').on('click','button#forgot_submit',function(e){e.preventDefault();var $forgotContainer=$('#old-forgot');var form=$('form[name=\"old-forgot\"]');var p={username:$('#forgot_username',$forgotContainer).val().trim()};$('button',form).hide();$('.error',$forgotContainer).remove();$('.spinner',form).show();$('.callout-container.login .callout').animate({'height':$('#old-forgot').outerHeight()},100,'linear',function(){$.post(form.attr('action'),p,function(response){response=JSON.parse(response);$('.spinner',form).hide();if(response.status=='success'){$('.password-success-message').html('<p class=\"body-large\">Done! '+response.data.message+\"</p>\").show();$('#old-forgot').fadeOut(100,'linear',function(){$('.callout-container.login .callout').animate({'height':$('#old-login-lightbox').outerHeight()},100,'linear',function(){$('#old-login-lightbox').fadeTo(100,1,'linear');})\n$('button',form).show();});}\nelse{$('.error',$forgotContainer).remove();$('#forgot_username',form).after('<div class=\"error\">'+response.data.message+'</div>');$('.callout-container.login .callout').animate({'height':$('#old-forgot').outerHeight()},100,'linear',function(){$('.error',$forgotContainer).css('opacity',1);$('button',form).show();});}});});});$('.callout #old-forgot').on('click','button#forgot_cancel',function(event){$('#old-forgot').fadeOut(100,'linear',function(){$('.callout-container.login .callout').animate({'height':$('#old-login-lightbox').outerHeight()},100,'linear',function(){$('#old-login-lightbox').fadeTo(100,1,'linear');})});});$(document).on('click','#page.login a#forgot',function(event){event.preventDefault();var $forgotContainer=$('#old-forgot').clone().attr('id','old-forgot-lightbox'),html;$('#forgot_username',$forgotContainer).val($('#username').val());$forgotContainer.lightbox({buttons:{cancel:false,'customCancel':{callback:function(event){$forgotContainer.lightbox('close');}},submit:{async:true,callback:function(event){event.preventDefault();var p={username:$('#forgot_username',$forgotContainer).val().trim()};$.post($('form',$forgotContainer).attr('action'),p,function(response){response=JSON.parse(response);if(response.status=='success'){$('.title',$forgotContainer).addClass('done').html('Done!');$('form',$forgotContainer).replaceWith('<p class=\"body-large\">'+response.data.message+\"</p>\");}\nelse{$('.error').remove();$('form #forgot_username',$forgotContainer).after('<div class=\"error\">'+response.data.message+'</div>');}\n$forgotContainer.lightbox('unmask');});}}}});$forgotContainer.bind('lightboxclose',function(){$forgotContainer.unbind('lightboxclose');$forgotContainer.remove();});});});";
var mod_pagespeed_jRBVxkKIAf = "$(function(){var pathSegments=window.location.pathname.split('/');switch(pathSegments[1]){case'about':case'howitworks':case'buzz':case'job':case'jobs':case'privacy':case'team':case'terms':$('#navigation_about').addClass('selected');break;case'account':$('#navigation_myaccount').addClass('selected');break;case'iot-applications':$('#navigation_iotapps').addClass('selected');break;default:$('#navigation_'+pathSegments[1]).addClass('selected');break;}});";
var mod_pagespeed_ZEAgHqhqwO = "function isSessionStorageSupported(){var testKey='test',storage=window.sessionStorage;try{storage.setItem(testKey,'1');storage.removeItem(testKey);return true;}catch(error){return false;}}\nwindow.JSON||(window.JSON={}),function(){function f(a){return a<10?\"0\"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'\"'+a.replace(escapable,function(a){var b=meta[a];return typeof b==\"string\"?b:\"\\\\u\"+(\"0000\"+a.charCodeAt(0).toString(16)).slice(-4)})+'\"':'\"'+a+'\"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i==\"object\"&&typeof i.toJSON==\"function\"&&(i=i.toJSON(a)),typeof rep==\"function\"&&(i=rep.call(b,a,i));switch(typeof i){case\"string\":return quote(i);case\"number\":return isFinite(i)?String(i):\"null\";case\"boolean\":case\"null\":return String(i);case\"object\":if(!i)return\"null\";gap+=indent,h=[];if(Object.prototype.toString.apply(i)===\"[object Array]\"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||\"null\";return e=h.length===0?\"[]\":gap?\"[\\n\"+gap+h.join(\",\\n\"+gap)+\"\\n\"+g+\"]\":\"[\"+h.join(\",\")+\"]\",gap=g,e}if(rep&&typeof rep==\"object\"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d==\"string\"&&(e=str(d,i),e&&h.push(quote(d)+(gap?\": \":\":\")+e))}else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?\": \":\":\")+e));return e=h.length===0?\"{}\":gap?\"{\\n\"+gap+h.join(\",\\n\"+gap)+\"\\n\"+g+\"}\":\"{\"+h.join(\",\")+\"}\",gap=g,e}}\"use strict\",typeof Date.prototype.toJSON!=\"function\"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+\"-\"+f(this.getUTCMonth()+1)+\"-\"+f(this.getUTCDate())+\"T\"+f(this.getUTCHours())+\":\"+f(this.getUTCMinutes())+\":\"+f(this.getUTCSeconds())+\"Z\":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var JSON=window.JSON,cx=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,escapable=/[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,gap,indent,meta={\"\\b\":\"\\\\b\",\"\\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"},rep;typeof JSON.stringify!=\"function\"&&(JSON.stringify=function(a,b,c){var d;gap=\"\",indent=\"\";if(typeof c==\"number\")for(d=0;d<c;d+=1)indent+=\" \";else typeof c==\"string\"&&(indent=c);rep=b;if(!b||typeof b==\"function\"||typeof b==\"object\"&&typeof b.length==\"number\")return str(\"\",{\"\":a});throw new Error(\"JSON.stringify\")}),typeof JSON.parse!=\"function\"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e==\"object\")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return\"\\\\u\"+(\"0000\"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\\],:{}\\s]*$/.test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,\"@\").replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g,\"\")))return j=eval(\"(\"+text+\")\"),typeof reviver==\"function\"?walk({\"\":j},\"\"):j;throw new SyntaxError(\"JSON.parse\")})}(),function(a,b){\"use strict\";var c=a.History=a.History||{},d=a.jQuery;if(typeof c.Adapter!=\"undefined\")throw new Error(\"History.js Adapter has already been loaded...\");c.Adapter={bind:function(a,b,c){d(a).bind(b,c)},trigger:function(a,b,c){d(a).trigger(b,c)},extractEventData:function(a,c,d){var e=c&&c.originalEvent&&c.originalEvent[a]||d&&d[a]||b;return e},onDomLoad:function(a){d(a)}},typeof c.init!=\"undefined\"&&c.init()}(window),function(a,b){\"use strict\";var c=a.document,d=a.setTimeout||d,e=a.clearTimeout||e,f=a.setInterval||f,g=a.History=a.History||{};if(typeof g.initHtml4!=\"undefined\")throw new Error(\"History.js HTML4 Support has already been loaded...\");g.initHtml4=function(){if(typeof g.initHtml4.initialized!=\"undefined\")return!1;g.initHtml4.initialized=!0,g.enabled=!0,g.savedHashes=[],g.isLastHash=function(a){var b=g.getHashByIndex(),c;return c=a===b,c},g.saveHash=function(a){return g.isLastHash(a)?!1:(g.savedHashes.push(a),!0)},g.getHashByIndex=function(a){var b=null;return typeof a==\"undefined\"?b=g.savedHashes[g.savedHashes.length-1]:a<0?b=g.savedHashes[g.savedHashes.length+a]:b=g.savedHashes[a],b},g.discardedHashes={},g.discardedStates={},g.discardState=function(a,b,c){var d=g.getHashByState(a),e;return e={discardedState:a,backState:c,forwardState:b},g.discardedStates[d]=e,!0},g.discardHash=function(a,b,c){var d={discardedHash:a,backState:c,forwardState:b};return g.discardedHashes[a]=d,!0},g.discardedState=function(a){var b=g.getHashByState(a),c;return c=g.discardedStates[b]||!1,c},g.discardedHash=function(a){var b=g.discardedHashes[a]||!1;return b},g.recycleState=function(a){var b=g.getHashByState(a);return g.discardedState(a)&&delete g.discardedStates[b],!0},g.emulated.hashChange&&(g.hashChangeInit=function(){g.checkerFunction=null;var b=\"\",d,e,h,i;return g.isInternetExplorer()?(d=\"historyjs-iframe\",e=c.createElement(\"iframe\"),e.setAttribute(\"id\",d),e.style.display=\"none\",c.body.appendChild(e),e.contentWindow.document.open(),e.contentWindow.document.close(),h=\"\",i=!1,g.checkerFunction=function(){if(i)return!1;i=!0;var c=g.getHash()||\"\",d=g.unescapeHash(e.contentWindow.document.location.hash)||\"\";return c!==b?(b=c,d!==c&&(h=d=c,e.contentWindow.document.open(),e.contentWindow.document.close(),e.contentWindow.document.location.hash=g.escapeHash(c)),g.Adapter.trigger(a,\"hashchange\")):d!==h&&(h=d,g.setHash(d,!1)),i=!1,!0}):g.checkerFunction=function(){var c=g.getHash();return c!==b&&(b=c,g.Adapter.trigger(a,\"hashchange\")),!0},g.intervalList.push(f(g.checkerFunction,g.options.hashChangeInterval)),!0},g.Adapter.onDomLoad(g.hashChangeInit)),g.emulated.pushState&&(g.onHashChange=function(b){var d=b&&b.newURL||c.location.href,e=g.getHashByUrl(d),f=null,h=null,i=null,j;return g.isLastHash(e)?(g.busy(!1),!1):(g.doubleCheckComplete(),g.saveHash(e),e&&g.isTraditionalAnchor(e)?(g.Adapter.trigger(a,\"anchorchange\"),g.busy(!1),!1):(f=g.extractState(g.getFullUrl(e||c.location.href,!1),!0),g.isLastSavedState(f)?(g.busy(!1),!1):(h=g.getHashByState(f),j=g.discardedState(f),j?(g.getHashByIndex(-2)===g.getHashByState(j.forwardState)?g.back(!1):g.forward(!1),!1):(g.pushState(f.data,f.title,f.url,!1),!0))))},g.Adapter.bind(a,\"hashchange\",g.onHashChange),g.pushState=function(b,d,e,f){if(g.getHashByUrl(e))throw new Error(\"History.js does not support states with fragement-identifiers (hashes/anchors).\");if(f!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.pushState,args:arguments,queue:f}),!1;g.busy(!0);var h=g.createStateObject(b,d,e),i=g.getHashByState(h),j=g.getState(!1),k=g.getHashByState(j),l=g.getHash();return g.storeState(h),g.expectedStateId=h.id,g.recycleState(h),g.setTitle(h),i===k?(g.busy(!1),!1):i!==l&&i!==g.getShortUrl(c.location.href)?(g.setHash(i,!1),!1):(g.saveState(h),g.Adapter.trigger(a,\"statechange\"),g.busy(!1),!0)},g.replaceState=function(a,b,c,d){if(g.getHashByUrl(c))throw new Error(\"History.js does not support states with fragement-identifiers (hashes/anchors).\");if(d!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.replaceState,args:arguments,queue:d}),!1;g.busy(!0);var e=g.createStateObject(a,b,c),f=g.getState(!1),h=g.getStateByIndex(-2);return g.discardState(f,e,h),g.pushState(e.data,e.title,e.url,!1),!0}),g.emulated.pushState&&g.getHash()&&!g.emulated.hashChange&&g.Adapter.onDomLoad(function(){g.Adapter.trigger(a,\"hashchange\")})},typeof g.init!=\"undefined\"&&g.init()}(window),function(a,b){\"use strict\";var c=a.console||b,d=a.document,e=a.navigator,f=isSessionStorageSupported()?a.sessionStorage:!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode;if(typeof m.init!=\"undefined\")throw new Error(\"History.js Core has already been loaded...\");m.init=function(){return typeof m.Adapter==\"undefined\"?!1:(typeof m.initCore!=\"undefined\"&&m.initCore(),typeof m.initHtml4!=\"undefined\"&&m.initHtml4(),!0)},m.initCore=function(){if(typeof m.initCore.initialized!=\"undefined\")return!1;m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;if(typeof b!=\"undefined\"&&b!==null){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){(m.options.debug||!1)&&m.log.apply(m,arguments)},m.log=function(){var a=typeof c!=\"undefined\"&&typeof c.log!=\"undefined\"&&typeof c.log.apply!=\"undefined\",b=d.getElementById(\"log\"),e,f,g,h,i;a?(h=Array.prototype.slice.call(arguments),e=h.shift(),typeof c.debug!=\"undefined\"?c.debug.apply(c,[e,h]):c.log.apply(c,[e,h])):e=\"\\n\"+arguments[0]+\"\\n\";for(f=1,g=arguments.length;f<g;++f){i=arguments[f];if(typeof i==\"object\"&&typeof k!=\"undefined\")try{i=k.stringify(i)}catch(j){}e+=\"\\n\"+i+\"\\n\"}return b?(b.value+=e+\"\\n-----\\n\",b.scrollTop=b.scrollHeight-b.clientHeight):a||l(e),!0},m.getInternetExplorerMajorVersion=function(){var a=m.getInternetExplorerMajorVersion.cached=typeof m.getInternetExplorerMajorVersion.cached!=\"undefined\"?m.getInternetExplorerMajorVersion.cached:function(){var a=3,b=d.createElement(\"div\"),c=b.getElementsByTagName(\"i\");while((b.innerHTML=\"\u003c!--[if gt IE \"+ ++a+\"]><i></i><![endif]\u002d->\")&&c[0]);return a>4?a:!1}();return a},m.isInternetExplorer=function(){var a=m.isInternetExplorer.cached=typeof m.isInternetExplorer.cached!=\"undefined\"?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion());return a},m.emulated={pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!/ Mobile\\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)&&!/AppleWebKit\\/5([0-2]|3[0-2])/i.test(e.userAgent)),hashChange:Boolean(!(\"onhashchange\"in a||\"onhashchange\"in d)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&e.vendor===\"Apple Computer, Inc.\"&&/AppleWebKit\\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&e.vendor===\"Apple Computer, Inc.\"&&/AppleWebKit\\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(a){for(var b in a)return!1;return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+\"//\"+(d.location.hostname||d.location.host);if(d.location.port||!1)a+=\":\"+d.location.port;return a+=\"/\",a},m.getBaseHref=function(){var a=d.getElementsByTagName(\"base\"),b=null,c=\"\";return a.length===1&&(b=a[0],c=b.href.replace(/[^\\/]+$/,\"\")),c=c.replace(/\\/+$/,\"\"),c&&(c+=\"/\"),c},m.getBaseUrl=function(){var a=m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl();return a},m.getPageUrl=function(){var a=m.getState(!1,!1),b=(a||{}).url||d.location.href,c;return c=b.replace(/\\/+$/,\"\").replace(/[^\\/]+$/,function(a,b,c){return/\\./.test(a)?a:a+\"/\"}),c},m.getBasePageUrl=function(){var a=d.location.href.replace(/[#\\?].*/,\"\").replace(/[^\\/]+$/,function(a,b,c){return/[^\\/]$/.test(a)?\"\":a}).replace(/\\/+$/,\"\")+\"/\";return a},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b=typeof b==\"undefined\"?!0:b,/[a-z]+\\:\\/\\//.test(a)||(d===\"/\"?c=m.getRootUrl()+a.replace(/^\\/+/,\"\"):d===\"#\"?c=m.getPageUrl().replace(/#.*/,\"\")+a:d===\"?\"?c=m.getPageUrl().replace(/[\\?#].*/,\"\")+a:b?c=m.getBaseUrl()+a.replace(/^(\\.\\/)+/,\"\"):c=m.getBasePageUrl()+a.replace(/^(\\.\\/)+/,\"\")),c.replace(/\\#$/,\"\")},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,\"\")),b=b.replace(d,\"/\"),m.isTraditionalAnchor(b)&&(b=\"./\"+b),b=b.replace(/^(\\.\\/)+/g,\"./\").replace(/\\#$/,\"\"),b},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(a,b){typeof a==\"undefined\"&&(a=!0),typeof b==\"undefined\"&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var b=m.extractId(a.url),c;if(!b){c=m.getStateString(a);if(typeof m.stateToId[c]!=\"undefined\")b=m.stateToId[c];else if(typeof m.store.stateToId[c]!=\"undefined\")b=m.store.stateToId[c];else{for(;;){b=(new Date).getTime()+String(Math.random()).replace(/\\D/g,\"\");if(typeof m.idToState[b]==\"undefined\"&&typeof m.store.idToState[b]==\"undefined\")break}m.stateToId[c]=b,m.idToState[b]=a}}return b},m.normalizeState=function(a){var b,c;if(!a||typeof a!=\"object\")a={};if(typeof a.normalized!=\"undefined\")return a;if(!a.data||typeof a.data!=\"object\")a.data={};b={},b.normalized=!0,b.title=a.title||\"\",b.url=m.getFullUrl(m.unescapeString(a.url||d.location.href)),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\\??\\&_suid.*/,\"\"),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data);if(b.title||c)b.hash=m.getShortUrl(b.url).replace(/\\??\\&_suid.*/,\"\"),/\\?/.test(b.hash)||(b.hash+=\"?\"),b.hash+=\"&_suid=\"+b.id;return b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};return d=m.normalizeState(d),d},m.getStateById=function(a){a=String(a);var c=m.idToState[a]||m.store.idToState[a]||b;return c},m.getStateString=function(a){var b,c,d;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},d=k.stringify(c),d},m.getStateId=function(a){var b,c;return b=m.normalizeState(a),c=b.id,c},m.getHashByState=function(a){var b,c;return b=m.normalizeState(a),c=b.hash,c},m.extractId=function(a){var b,c,d;return c=/(.*)\\&_suid=([0-9]+)$/.exec(a),d=c?c[1]||a:a,b=c?String(c[2]||\"\"):\"\",b||!1},m.isTraditionalAnchor=function(a){var b=!/[\\/\\?\\.]/.test(a);return b},m.extractState=function(a,b){var c=null,d,e;return b=b||!1,d=m.extractId(a),d&&(c=m.getStateById(d)),c||(e=m.getFullUrl(a),d=m.getIdByUrl(e)||!1,d&&(c=m.getStateById(d)),!c&&b&&!m.isTraditionalAnchor(a)&&(c=m.createStateObject(null,null,e))),c},m.getIdByUrl=function(a){var c=m.urlToId[a]||m.store.urlToId[a]||b;return c},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||b},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||b},m.hasUrlDuplicate=function(a){var b=!1,c;return c=m.extractState(a.url),b=c&&c.id!==a.id,b},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var b=!1,c,d,e;return m.savedStates.length&&(c=a.id,d=m.getLastSavedState(),e=d.id,b=c===e),b},m.saveState=function(a){return m.isLastSavedState(a)?!1:(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){var b=null;return typeof a==\"undefined\"?b=m.savedStates[m.savedStates.length-1]:a<0?b=m.savedStates[m.savedStates.length+a]:b=m.savedStates[a],b},m.getHash=function(){var a=m.unescapeHash(d.location.hash);return a},m.unescapeString=function(b){var c=b,d;for(;;){d=a.unescape(c);if(d===c)break;c=d}return c},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=m.unescapeString(b),b},m.normalizeHash=function(a){var b=a.replace(/[^#]*#/,\"\").replace(/#.*/,\"\");return b},m.setHash=function(a,b){var c,e,f;return b!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(c=m.escapeHash(a),m.busy(!0),e=m.extractState(a,!0),e&&!m.emulated.pushState?m.pushState(e.data,e.title,e.url,!1):d.location.hash!==c&&(m.bugs.setHash?(f=m.getPageUrl(),m.pushState(null,null,f+\"#\"+c,!1)):d.location.hash=c),m)},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.escape(c),m.bugs.hashEscape||(c=c.replace(/\\%21/g,\"!\").replace(/\\%26/g,\"&\").replace(/\\%3D/g,\"=\").replace(/\\%3F/g,\"?\")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,\"$2\");return b=m.unescapeHash(b),b},m.setTitle=function(a){var b=a.title,c;b||(c=m.getStateByIndex(0),c&&c.url===a.url&&(b=c.title||m.options.initialTitle));try{d.getElementsByTagName(\"title\")[0].innerHTML=b.replace(\"<\",\"&lt;\").replace(\">\",\"&gt;\").replace(\" & \",\" &amp; \")}catch(e){}return d.title=b,m},m.queues=[],m.busy=function(a){typeof a!=\"undefined\"?m.busy.flag=a:typeof m.busy.flag==\"undefined\"&&(m.busy.flag=!1);if(!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(m.busy.flag)return;for(a=m.queues.length-1;a>=0;--a){c=m.queues[a];if(c.length===0)continue;d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay)}};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||0]||[],m.queues[a.queue||0].push(a),m},m.queue=function(a,b){return typeof a==\"function\"&&(a={callback:a}),typeof b!=\"undefined\"&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var b=m.extractState(d.location.href),c;if(!m.isLastSavedState(b))c=b;else return;return c||(c=m.createStateObject()),m.Adapter.trigger(a,\"popstate\"),m},m.back=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),n.go(-1),!0)},m.forward=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;c<=a;++c)m.forward(b);else{if(!(a<0))throw new Error(\"History.go: History.go requires a positive or negative integer passed.\");for(c=-1;c>=a;--c)m.back(b)}return m};if(m.emulated.pushState){var o=function(){};m.pushState=m.pushState||o,m.replaceState=m.replaceState||o}else m.onPopState=function(b,c){var e=!1,f=!1,g,h;return m.doubleCheckComplete(),g=m.getHash(),g?(h=m.extractState(g||d.location.href,!0),h?m.replaceState(h.data,h.title,h.url,!1):(m.Adapter.trigger(a,\"anchorchange\"),m.busy(!1)),m.expectedStateId=!1,!1):(e=m.Adapter.extractEventData(\"state\",b,c)||!1,e?f=m.getStateById(e):m.expectedStateId?f=m.getStateById(m.expectedStateId):f=m.extractState(d.location.href),f||(f=m.createStateObject(null,null,d.location.href)),m.expectedStateId=!1,m.isLastSavedState(f)?(m.busy(!1),!1):(m.storeState(f),m.saveState(f),m.setTitle(f),m.Adapter.trigger(a,\"statechange\"),m.busy(!1),!0))},m.Adapter.bind(a,\"popstate\",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error(\"History.js does not support states with fragement-identifiers (hashes/anchors).\");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,\"popstate\")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error(\"History.js does not support states with fragement-identifiers (hashes/anchors).\");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,\"popstate\")),!0};if(f){try{m.store=k.parse(f.getItem(\"History.store\"))||{}}catch(p){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,\"beforeunload\",m.clearAllIntervals),m.Adapter.bind(a,\"unload\",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(d.location.href,!0))),f&&(m.onUnload=function(){var a,b;try{a=k.parse(f.getItem(\"History.store\"))||{}}catch(c){a={}}a.idToState=a.idToState||{},a.urlToId=a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState){if(!m.idToState.hasOwnProperty(b))continue;a.idToState[b]=m.idToState[b]}for(b in m.urlToId){if(!m.urlToId.hasOwnProperty(b))continue;a.urlToId[b]=m.urlToId[b]}for(b in m.stateToId){if(!m.stateToId.hasOwnProperty(b))continue;a.stateToId[b]=m.stateToId[b]}m.store=a,m.normalizeStore(),f.setItem(\"History.store\",k.stringify(a))},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,\"beforeunload\",m.onUnload),m.Adapter.bind(a,\"unload\",m.onUnload));if(!m.emulated.pushState){m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval));if(e.vendor===\"Apple Computer, Inc.\"||(e.appCodeName||\"\")===\"Mozilla\")m.Adapter.bind(a,\"hashchange\",function(){m.Adapter.trigger(a,\"popstate\")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,\"hashchange\")})}},m.init()}(window)";
