var mod_pagespeed_F5n5_6Lot5 = "$.extend({temboo:{constants:{BYTES_PER_GIGABYTE:1073741824,BYTES_PER_MEGABYTE:1048576},benchmark:{start:function(id,log){var start=new Date().getTime(),key='temboo.benchmark.'+id+'@'+start;log&&$.temboo.log('Benchmark start: '+id);$('body').data(key,{id:id,start:start});return key;},stop:function(key,log){var stop=new Date().getTime(),start=$('body').data(key).start,id=$('body').data(key).id,elapsed=stop-start;$('body').removeData(key);log&&$.temboo.log('Benchmark stop: '+id+' completed in '+elapsed+' milliseconds');return elapsed;}},bytesToGigabytes:function(bytes,decimals){var decimals=arguments.length>1?parseInt(decimals,10):2;return $.temboo.convertBytes(bytes,$.temboo.constants.BYTES_PER_GIGABYTE,decimals);},splitCase:function(str){var myDelim='\\0';return str.replace(/([A-Z])/g,\"\\0$1\").split('\\0').filter(function(s){return s.length>0});},convertBytes:function(bytes,bytesPerUnit,decimals){var radix=10,decimals=arguments.length>2&&typeof decimals!=='undefined'?parseInt(decimals,radix):2,rounding=parseInt('1'+new Array(decimals+1).join(0));return Math.round((parseInt(bytes,10)/bytesPerUnit)*rounding)/rounding;},convertToBytes:function(unitCount,bytesPerUnit){return Math.round(parseFloat(unitCount)*bytesPerUnit);},empty:function(str){return typeof str==='undefined'||/^[ \\t]*$/.test(str);},gigabytesToBytes:function(gb){return $.temboo.convertToBytes(gb,$.temboo.constants.BYTES_PER_GIGABYTE);},isInt:function(x,strict){var is=true;strict&&(is=typeof x=='number');is&&(is=x==parseInt(x));return is;},log:function(str,loc){if(typeof console!=='undefined'){var msg=arguments.length===1?str:loc+': '+str;console.log(msg);}},pad:function(toPad,padChar,length){return(String(toPad).length<length)?new Array(length-String(toPad).length+1).join(padChar)+String(toPad):toPad;},sizeOf:function(obj){if(typeof obj!=='object')\nthrow'Specified value is not of type \"object\"';var c=0;for(var i in obj)obj.hasOwnProperty(i)&&c++;return c;},elide:function(str,maxLength,location,indicator){var indicator=indicator||'...',len=str.length,location=location||'end';if(len>maxLength){var diff=len-maxLength+indicator.length;switch(location){case'start':str=indicator+str.substr(diff);break;case'middle':var offset=Math.ceil((len-diff)/2);str=str.substr(0,offset)+indicator+str.substr(offset+diff);break;case'end':str=str.substr(0,maxLength-indicator.length)+indicator;break;}}\nreturn str;},ucfirst:function(str){return str.charAt(0).toUpperCase()+str.slice(1);}}});$.fn.extend({anychange:function(callback){var key='temboo-anychange-last';callback=callback||function(){};return this.each(function(){$(this).data(key,$(this).val()).off('change.anychange keyup.anychange paste.anychange mouseup.anychange input.anychange').on('change.anychange keyup.anychange paste.anychange mouseup.anychange input.anychange',function(event){var $i=$(this),d=$i.data(key),v=$i.val();v==d||($i.trigger('anychange')&&($i.data(key,v)&&$.proxy(callback,this,event)()));})});},clearInputs:function(){return this.each(function(){var type=this.type,tag=this.tagName.toLowerCase();if(tag=='form')\nreturn $(':input',this).clearInputs();if(type=='text'||type=='password'||tag=='textarea')\nthis.value='';else if(type=='checkbox'||type=='radio')\nthis.checked=false;else if(tag=='select')\nthis.selectedIndex=-1;});},deepCopy:function(){return $.extend(true,{},this.get(0));},kc:function(callback){var t,i=0,r=400,c=[38,38,40,40,37,39,37,39,66,65],reset=function(){window.clearTimeout(t);i=0;return true;};this.on('keyup',function(e){if(e.keyCode!=c[i++]){reset();return;}\nwindow.clearTimeout(t)||(t=window.setTimeout(function(){i=0},r));(i==c.length)&&reset()&&callback.call(this);});},selectText:function(){var range,selection,obj=this[0],type={func:'function',obj:'object'},is=function(type,o){return typeof o===type;};if(is(type.obj,obj.ownerDocument)&&is(type.obj,obj.ownerDocument.defaultView)&&is(type.func,obj.ownerDocument.defaultView.getSelection)){selection=obj.ownerDocument.defaultView.getSelection();if(is(type.func,selection.setBaseAndExtent)){selection.setBaseAndExtent(obj,0,obj,$(obj).contents().size());}\nelse if(is(type.func,obj.ownerDocument.createRange)){range=obj.ownerDocument.createRange();if(is(type.func,range.selectNodeContents)&&is(type.func,selection.removeAllRanges)&&is(type.func,selection.addRange)){range.selectNodeContents(obj);selection.removeAllRanges();selection.addRange(range);}}}\nelse if(is(type.obj,document.body)&&is(type.obj,document.body.createTextRange)){range=document.body.createTextRange();if(is(type.obj,range.moveToElementText)&&is(type.obj,range.select)){range.moveToElementText(obj);range.select();}}\nreturn this;}});$.ajaxPrefilter(function(options,originalOptions){if(options.type&&options.type.toUpperCase()!='GET'&&options.contentType&&options.contentType.match(/urlencoded/i)&&!options.crossDomain){if(!options.data){options.data=TEMBOO_CSRF_NAME+'='+TEMBOO_CSRF_HASH;}else if(typeof options.data=='string'){options.data=options.data+'&'+TEMBOO_CSRF_NAME+'='+TEMBOO_CSRF_HASH;}else if(typeof options.data=='object'){options.data[TEMBOO_CSRF_NAME]=TEMBOO_CSRF_HASH;}}});";
var mod_pagespeed_ihA4cuC4RT = "var Spinner=function(target,init){init=init||{};var optInit=function(opt,val){return typeof init[opt]==='undefined'?val:init[opt];}\nvar self=this,$target=$(target),myId=Spinner.prototype._id++,className='tmb-spinner tmb-spinner-'+myId,timer;var container=optInit('container','body'),delay=optInit('delay',0),fadeDuration=optInit('fadeDuration',200),image=optInit('image','/files/spinner.gif'),offsetX=optInit('offsetX',0),offsetY=optInit('offsetY',0),opacity=optInit('opacity',1),zIndex=optInit('zIndex',42);var origOpacity=$target.css('opacity');if(typeof fadeDuration!='object')\nfadeDuration={show:fadeDuration,hide:fadeDuration};this.getId=function(){return myId;}\nthis.hide=function(callback){clearTimeout(timer);var s=self.widget();if(s.length){self.widget().fadeOut(fadeDuration.hide,function(){$target.css('opacity',origOpacity);$(this).remove();typeof callback=='function'&&callback();});}\nelse{$target.css('opacity',origOpacity);typeof callback=='function'&&callback();}}\nthis.show=function(){var callback,showDelay;switch(typeof arguments[0]){case'undefined':showDelay=delay;break;case'function':showDelay=delay;callback=arguments[0];break;case'number':showDelay=arguments[0];callback=arguments[1];break;default:throw\"Unrecognized argument: \"+arguments[0];}\n$target.css({opacity:opacity});timer=setTimeout(function(){var Ot=$target.offset(),Wt=$target.width(),Ht=$target.height();if(0==Ot.left&&0==Ot.top&&0==Wt&&0==Ht){Temboo&&Temboo.error(\"Unable to display Spinner: target element's bounding rect not set\");return;}\nvar $s=$('<img />').attr('class',className).attr('src',image).attr('alt','Loading').load(function(e){var $w=$(window),Ww=$w.width(),Hw=$w.height(),Ch=((Ot.left+Wt)>Ww)?(Ot.left+Ww)/2:Ot.left+Wt/2,Cv=Ht<=0?(Ot.top+80):(((Ot.top+Ht)>Hw)?(Ot.top+Hw)/2:Ot.top+Ht/2),left=Ch+offsetX-$(this).width()/2,top=Cv+offsetY-$(this).height()/2;$(this).css({'z-index':zIndex}).offset({left:left,top:top});});$(container).append($s);$s.fadeIn(fadeDuration.show,callback);},showDelay);}\nthis.widget=function(){return $('.tmb-spinner-'+myId,container);}}\nSpinner.prototype._id=0;var ToggleButton=function(options){var toggle=this,selected;this.id=ToggleButton.prototype._id++;this.options=$.extend({},ToggleButton.prototype._defaults,options);if(typeof this.options.left=='string'){this.options.left={label:this.options.left,value:this.options.left}}\nif(typeof this.options.right=='string'){this.options.right={label:this.options.right,value:this.options.right}}\nthis.selected=this.options[this.options.selected];$('body').on('click','#'+ToggleButton.prototype._className+'-'+this.id+' button:not(\".selected\")',function(){toggle.toggle();});}\nToggleButton.prototype._id=0;ToggleButton.prototype._className='tmb-toggle-button';ToggleButton.prototype._defaults={left:'On',right:'Off',selected:'left'}\nToggleButton.prototype.getLabel=function(){return this.selected.label;}\nToggleButton.prototype.getValue=function(){return this.selected.value;}\nToggleButton.prototype.getView=function(){return $('#'+ToggleButton.prototype._className+'-'+this.id);}\nToggleButton.prototype.render=function(){if(!this.view){var o=this.options,t=ToggleButton.prototype._className;this.view=''+'<div id=\"'+t+'-'+this.id+'\" class=\"'+t+(o.class?' '+o.class:'')+'\" data-id=\"'+this.id+'\">'+'<button class=\"option left'+(this.selected==o.left?' selected':'')+'\" value=\"'+o.left.value+'\">'+o.left.label+'</button>'+'<button class=\"option right'+(this.selected==o.right?' selected':'')+'\" value=\"'+o.right.value+'\">'+o.right.label+'</button>'+'</div>';}\nreturn this.view;}\nToggleButton.prototype.toggle=function(){var $v=this.getView(),next=this.selected==this.options.left?this.options.right:this.options.left;$v.find('.selected').removeClass('selected');$v.find('.option[value=\"'+next.value+'\"]').addClass('selected');this.selected=next;$(this).triggerHandler('change');}";
var mod_pagespeed_J71B6yoVHn = "$(function(){var Messaging=(function(){var ANIMATION_MILLIS=200;MessageView=function(){return{getHtml:function(model){var itemView=$('<li />').attr('id',model.getId()).attr('class','message '+model.getSeverity()),buttonView=$('<button />').attr('class','icon close').attr('type','button'),textView=$('<span />').attr('class','text').html(model.getText());return itemView.append(buttonView).append(textView).get(0);}}}();MessagingException=function(text){throw'MessagingException: '+text;}\nMessagingModel=function(){var messages={};var assertMessage=function(id){if(typeof messages[id]==='undefined')\nMessagingException('No such message: '+id);return true;}\nfunction MessageModel(init){var id=init.id;var severity=init.severity;var content=init.content;this.getId=function(){return id;}\nthis.getSeverity=function(){return severity;}\nthis.getText=function(){return content;}\nthis.dismiss=function(callback){$.post('/messaging/dismiss/'+id+'/',function(response){typeof callback==='function'&&callback.call(null);},'json');}\nreturn true;}\nreturn{dismiss:function(id){assertMessage(id);messages[id].dismiss(function(){delete messages[id];});},getMessage:function(id){assertMessage(id);return messages[id];},getMessages:function(id){return messages;},init:function(data){for(var i in data)\nmessages[data[i].id]=new MessageModel(data[i]);$(MessagingModel).trigger('initialized');}}}();MessagingContainerView=function(){var container=$('#message-container');var hideContainer=function(){container.slideUp((ANIMATION_MILLIS/2),function(){$(this).addClass('empty');$(MessagingContainerView).trigger('containerhidden');});}\nvar showContainer=function(){container.show();container.removeClass('empty');$(MessagingContainerView).trigger('containershown')}\nreturn{add:function(message){var view=$(MessageView.getHtml(message));container.find('.messages').append($(view).get(0));container.hasClass('empty')&&showContainer();},addMessages:function(messages){var callMessages=(messages['calls-near-limit']||messages['calls-over-limit']);var bandwidthMessages=(messages['bandwidth-near-limit']||messages['bandwidth-over-limit']);for(var i in messages)this.add(messages[i]);(callMessages&&!bandwidthMessages)&&container.addClass('just-calls');container.hasClass('empty')&&showContainer();},dismiss:function(messageId){var elem=$('#'+messageId),remaining=elem.siblings('li').size(),millis=remaining==0?ANIMATION_MILLIS/2:ANIMATION_MILLIS;elem.slideUp(millis,function(){$(this).remove();if(remaining==0){hideContainer();}else if(messageId=='bandwidth-near-limit'||messageId=='bandwidth-over-limit'){container.addClass('just-calls');$(window.Temboo).trigger('layoutchange');}\n$(MessagingContainerView).trigger('messageremoved');});}}}();MessagingController=function(){var init=function(){$('#message-container').off('click','.message .close').on('click','.message .close',function(e){e.preventDefault();var messageId=$(this).parent().attr('id');MessagingContainerView.dismiss(messageId);MessagingModel.dismiss(messageId.replace(/message\\-/,''));});$(MessagingModel).bind('initialized',function(){MessagingContainerView.addMessages(MessagingModel.getMessages());})}\ninit();}();return{init:function(messages){MessagingModel.init(messages);}}}());if(window.Temboo){window.Temboo.register('Messaging',Messaging);}\nelse{$(window).bind('Temboo.initialized',function(){window.Temboo.register('Messaging',Messaging);})}});";
var mod_pagespeed_SN4HYiS9N_ = "$(function($){function Snippets(){this.init=function(view,data){var path=view.split('/'),snippet=views,segment;for(var i in path){segment=path[i];if(snippet[segment])\nsnippet=snippet[segment];else\nbreak;}\nif(typeof snippet==='function'){Temboo.log('Loading snippet: '+view);snippet(data);}}\nvar views={pages:{landing:function(init){var $iframe=$('<iframe />').attr('height',600).attr('width',960).attr('frameborder',0).attr('webkitAllowFullScreen',true).attr('mozallowfullscreen',true).attr('allowFullScreen',true)\n$('a.video').click(function(event){event.preventDefault();event.stopImmediatePropagation();$iframe.attr('src',$(this).attr('href')).videobox();});},plans:function(init){var defaultDescription=$('table .description > .text').html(),defaultTitle=$('table .description > span').html(),init=init;var revertDescription=function(){setDescription(defaultTitle,defaultDescription);}\nvar setDescription=function(title,text){$('table .description > span').html(title);$('table .description .text').html(text);}\n$('td, th').not('.pattern').hover(function(event){var col=$('col').eq($(this).index());if(col.hasClass('plan')&&!col.hasClass('hover')){col.addClass('hover');setDescription(col.data('plan')+' Plan',init.descriptions['plan'][col.data('plan')]);}},function(event){var col=$('col').eq($(this).index());if(col.hasClass('plan')&&col.hasClass('hover')){col.removeClass('hover');revertDescription();}});$('td.feature').hover(function(event){var title=$(this).data('name')||$(this).html();setDescription(title,init.descriptions['feature'][$(this).data('feature')]);},function(event){revertDescription();});},videos:function(init){var autoload=window.location.hash.substring(1),$iframe=$('<iframe />').attr('height',600).attr('width',960).attr('frameborder',0).attr('webkitAllowFullScreen',true).attr('mozallowfullscreen',true).attr('allowFullScreen',true);$('a.video').click(function(event){event.preventDefault();event.stopImmediatePropagation();var vidUrl=this.href.replace(/\\?autoplay=1/,'')+'?api=1',baseUrl=this.href.split(this.pathname)[0];function onMessageReceived(e){if(e.origin!=baseUrl)\nreturn;if('ready'==JSON.parse(e.data).event){Temboo.log('Player ready, playing video...');$iframe.get(0).contentWindow.postMessage(JSON.stringify({method:'play'}),'*');}}\nif(window.attachEvent){window.attachEvent('onmessage',onMessageReceived,false);}\nif(window.addEventListener){window.addEventListener('message',onMessageReceived,false);}\n$iframe.attr('src',vidUrl).videobox();});autoload&&$('a.video.'+autoload).trigger('click');}},partials:{my_account:{change_sub:{authorize_charge:function(init){Temboo.Stripe.init(init.stripeApiKey);var $form=$('form.change-confirmation');$form.on('submit',function(event){event.preventDefault()\nvar c=$('.buttons',$form),b=c.html();$('.messages',$form).html('').removeClass('error');c.html('');$('.spinner',$form).show();var params=params||{};$('[type=\"hidden\"]',$form).each(function(){params[$(this).attr('name')]=$(this).val();})\n$.post($form.attr('action'),params,function(response){if(response.status=='success'){$form.parents('.section').html(response.data);}\nelse{c.html(b);$('.messages',$form).addClass('error').html(response.data);}\n$('.spinner',$form).hide();});});},confirm_downgrade:function(init){var $form=$('form.change-confirmation');$form.on('submit',function(event){event.preventDefault()\nvar c=$('.buttons',$form),b=c.html();$('.messages',$form).html('').removeClass('error');c.html('');$('.spinner',$form).show();var params=params||{};$('[type=\"hidden\"]',$form).each(function(){params[$(this).attr('name')]=$(this).val();})\n$.post($form.attr('action'),params,function(response){if(response.status=='success'){$form.parents('.section').html(response.data);}\nelse{c.html(b);$('.messages',$form).addClass('error').html(response.data);}\n$('.spinner',$form).hide();});});},payment_form:function(init){var buttons;var clearErrors=function(){$('#payment-form .messages.error').html('&nbsp;').removeClass('error');}\nvar showError=function(formScope,msg){$('#payment-form '+formScope+' .messages').addClass('error').text(msg);}\nvar showMessage=function(formScope,msg){$('#payment-form '+formScope+' .messages').addClass('success').text(msg);}\nvar showSpinner=function($form,makeVisible){makeVisible=arguments.length==2?makeVisible:true;var container=$('.spinner-container',$form);if(makeVisible){$('button',container).css('visibility','hidden');$('.spinner',container).show();}\nelse{$('.spinner',container).hide();$('button',container).css('visibility','visible');}}\nvar tembooSubmit=function($form,params,callback){var params=params||{};$('[type=\"hidden\"]',$form).each(function(){params[$(this).attr('name')]=$(this).val();})\n$.post($form.attr('action'),params,callback);}\nTemboo.Stripe.init(init.stripeApiKey);typeof init.hints!=='undefined'&&$('#payment-form').hinted(init.hints);$('#payment-form').submit(function(event){event.preventDefault();var error=false,$form=$(this);clearErrors();$('.card input, .card select',$form).each(function(){if($.temboo.empty($(this).val())||!$(this).val().match(/^\\d+$/)){var e=$(this).data('error');if(e){showError('.card',e);error=true;return false;}}});if(error)return;$('.securitycode input, .securitycode select',$form).each(function(){if($.temboo.empty($(this).val())){var e=$(this).data('error');if(e){showError('.securitycode',e);error=true;return false;}}});if(error)return;$('.name input, .name select',$form).each(function(){if($.temboo.empty($(this).val())){var e=$(this).data('error');if(e){showError('.name',e);error=true;return false;}}});if(error)return;$('.address input, .address select',$form).each(function(){if($.temboo.empty($(this).val())){var e=$(this).data('error');if(e){showError('.address',e);error=true;return false;}}});if(error)return;$('.controls input[name=\"tos\"]',$form).each(function(){if(!$(this).is(':checked')){showError('.controls','You must accept the Terms of Service');error=true;}});if(error)return;showSpinner($form);Temboo.Stripe.createToken($form,function(status,response){if(response.error){var msg_date;var msg_card;switch(response.error.param){case'exp_month':msg_date='Please provide a valid expiration month';showError('.expiration',msg_date);break;case'exp_year':msg_date='Please provide a valid expiration year';showError('.expiration',msg_date);break;default:msg_card=response.error.message;showError('.card',msg_card);break;}\nshowSpinner($form,false);}\nelse{var $form=$('#payment-form'),params={};$('[type=\"hidden\"]',$form).each(function(){params[$(this).attr('name')]=$(this).val();})\nparams.stripe_token=response['id'];params.company=$('input[name=\"company\"]',$form).val();$.post($form.attr('action'),params,function(response){showSpinner($form,false);if(response.status=='success'){$('#payment-form').replaceWith(response.data);$('#change-rule2').hide();window.scrollTo(0,0);}\nelse{showError('.controls',response.data);}}).error(function(response){showSpinner($form,false);showError('.controls',response.data);});}});});}},edit_cc_form:function(init){$('.edit-cc-form .exp_month').selectBox();$('.edit-cc-form .exp_year').selectBox();$('.edit-cc-form .country').selectBox();Temboo.Stripe.init(init.jsApiKey);var buttons,$form=$('form.edit-cc-form');var clearErrors=function(){$('.messages.error',$form).html('&nbsp;').removeClass('error').removeClass('success');}\nvar showError=function(msg){$('.messages',$form).addClass('error').text(msg);}\nvar showMessage=function(msg){$('.messages',$form).addClass('success').text(msg);}\nvar checkEmptyFields=function(){if($('form input[name=number]').val().length>0&&$('select.exp_month').val()!='Exp. Month'&&$('select.exp_year').val()!='Exp. Year'&&$('form input[name=cvc]').val().length>0&&$('form input[name=name]').val().length>0&&$('form input[name=address_line1]').val().length>0&&$('form input[name=address_city]').val().length>0&&$('form input[name=address_state]').val().length>0&&$('form input[name=address_zip]').val().length>0){$('button.submit',$form).attr('disabled',false);}else{$('button.submit',$form).attr('disabled',true);}}\ntypeof init.hints!=='undefined'&&$('.edit-cc-form').hinted(init.hints);$('a.edit-cc').on('click',function(e){e.preventDefault();$('button.submit',$form).attr('disabled',true);$('input',$form).keyup(function(){checkEmptyFields();})\n$('select.exp_month').off('change').on('change',function(){checkEmptyFields();});$('select.exp_year').off('change').on('change',function(){checkEmptyFields();});$form.bind('lightboxclose',function(){$('form input[name=number]').val('');$('form input[name=cvc]').val('');$('.exp_month').val('');$('.exp_year').val('');$('p.error').html('');});$form.lightbox({buttons:{submit:{async:true,callback:function(event){event.preventDefault();Temboo.Stripe.createToken($form,function(status,response){if(response.error){var msg;switch(response.error.param){case'exp_month':msg='Please provide a valid expiration month';break;case'exp_year':msg='Please provide a valid expiration year';break;default:msg=response.error.message;break;}\n$form.lightbox('unmask');showError(msg);}\nelse{var params={};params.stripe_token=response['id'];params.company=$('input[name=\"company\"]',$form).val();$.post($form.attr('action'),params,function(response){if(response.status=='success'){$form.lightbox('close');$('<div class=\"status-alert success\"></div>').append($('<p>').text('Your credit card has been updated.')).appendTo('body').fadeIn(200).delay(1000).fadeOut(200,function(){$(this).remove();window.location.reload();});}\nelse{$form.lightbox('unmask');showError(response.data);}});}});}}}});});},plan:function(init){var $table=$('.plans-table');$table.find('tr').on('click',function(event){event.preventDefault();event.stopPropagation();window.location=$(this).find('.plan-change a').attr('href');});}}}}};var snippets=new Snippets();if(window.Temboo){window.Temboo.register('Snippets',snippets);}\nelse{$(window).bind('Temboo.initialized',function(){window.Temboo.register('Snippets',snippets);})}});";
